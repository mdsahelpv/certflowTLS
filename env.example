# Environment Configuration Example
# Copy one of these to your .env or use env.sqlite/env.docker/env.postgresql

# =============================================================================
# SQLITE CONFIGURATION (Development)
# =============================================================================
# DATABASE_URL="file:./db/custom.db"

# =============================================================================
# POSTGRESQL CONFIGURATION (Production)
# =============================================================================
# DATABASE_URL="postgresql://username:password@localhost:5432/database_name"

# Application Configuration
NODE_ENV="development"
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="change-me-64-hex"
# Optional: enable NextAuth debug logs
# NEXTAUTH_DEBUG=true

# Encryption Configuration
ENCRYPTION_KEY="change-me-32-chars"

# CA Configuration
CA_COUNTRY="US"
CA_STATE="California"
CA_LOCALITY="San Francisco"
CA_ORGANIZATION="Your Organization"
CA_ORGANIZATIONAL_UNIT="IT Department"
CA_COMMON_NAME="Your CA Common Name"
CA_EMAIL="ca@yourdomain.com"
# Optional (UI defaults for CA setup form)
# NEXT_PUBLIC_CA_COUNTRY=US
# NEXT_PUBLIC_CA_STATE=California
# NEXT_PUBLIC_CA_LOCALITY=San Francisco
# NEXT_PUBLIC_CA_ORGANIZATION="Your Organization"
# NEXT_PUBLIC_CA_ORGANIZATIONAL_UNIT="IT Department"
# NEXT_PUBLIC_CA_COMMON_NAME="Your CA Common Name"

# X.509 Certificate Extensions
CA_PATH_LENGTH_CONSTRAINT=0
POLICY_REQUIRE_EXPLICIT=0
POLICY_INHIBIT_MAPPING=0

# CRL and OCSP Configuration
CRL_DISTRIBUTION_POINT="https://yourdomain.com/api/crl/download/latest"
OCSP_URL="https://yourdomain.com/api/ocsp"
# CRL Publication Endpoints (High Availability - comma-separated)
# Example: https://cdn.yourdomain.com/crl/latest,https://backup.yourdomain.com/crl/latest
CRL_PUBLICATION_ENDPOINTS=https://cdn.yourdomain.com/crl/latest,https://backup.yourdomain.com/crl/latest
# CRL Scheduler Configuration
CRL_UPDATE_INTERVAL_HOURS=24
CRL_RUN_ON_STARTUP=true

# Email Configuration (Optional)
SMTP_HOST="smtp.gmail.com"
SMTP_PORT=587
SMTP_USER="your-email@gmail.com"
SMTP_PASS="your-app-password"
SMTP_FROM="noreply@yourdomain.com"

# Security Configuration
BCRYPT_ROUNDS=12
SESSION_MAX_AGE=86400
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Logging Configuration
LOG_LEVEL=info            # silent|error|warn|info|debug
PRISMA_LOG=warn,error     # query,info,warn,error (overrides LOG_LEVEL for Prisma)
LOG_FORMAT=json           # json|text
LOG_FILE=logs/app.log     # File logging path (optional)

# Docker/Production extras (if using docker-compose)
# POSTGRES_USER=postgres
# POSTGRES_PASSWORD=password
# POSTGRES_DB=ca_management
# ADMIN_USERNAME=admin
# ADMIN_PASSWORD=admin123
# DEFAULT_CERTIFICATE_VALIDITY_DAYS=365
# DEFAULT_KEY_ALGORITHM=RSA
# DEFAULT_KEY_SIZE=2048
# CRL_UPDATE_INTERVAL_HOURS=24
# SESSION_SECRET=your-session-secret-here

# Certificate upload formats (opt-in)
# When true, CA upload accepts DER and PKCS#7 (p7b) and converts to PEM.
# PEM remains recommended. PKCS#12 is not accepted.
# ALLOW_EXTENDED_CERT_FORMATS=false

# Webhook Configuration
WEBHOOK_DEFAULT_TIMEOUT=10000
WEBHOOK_DEFAULT_RETRIES=3
WEBHOOK_DEFAULT_RETRY_DELAY=1000
WEBHOOK_MAX_RETRY_DELAY=30000